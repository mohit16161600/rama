<div class="grid" style="grid-template-columns:1fr;align-items:start;gap:3rem;">
	<div class="hero-image">
		<img src="<%= (product.images&&product.images[0]) || '' %>" alt="<%= product.name %>" onerror="this.src='https://picsum.photos/seed/'+encodeURIComponent('<%= product.id %>')+'/800/600'"/>
	</div>
	<div>
		<h1>ğŸ‘— <%= product.name %> ğŸ‘—</h1>
		<p class="price">â‚¹ <%= product.price.toLocaleString('en-IN') %></p>
		<p class="muted"><%= product.description %></p>
		<% if (product.options) { Object.entries(product.options).forEach(([k,vals])=>{ %>
			<div style="margin:1.5rem 0;">
				<label style="display:block;font-weight:600;margin-bottom:0.5rem;">ğŸŒ¸ <%= k.charAt(0).toUpperCase() + k.slice(1) %></label>
				<select style="padding:0.75rem;border-radius:8px;border:2px solid var(--border);width:100%">
					<% vals.forEach(v=>{ %>
						<option><%= v %></option>
					<% }) %>
				</select>
			</div>
		<% }) } %>
		<div style="display:flex; gap:1rem; align-items:center; margin-top:2rem; flex-wrap:wrap;">
			<input id="qty" type="number" min="1" value="1" style="width:100px;padding:0.75rem;border-radius:8px;border:2px solid var(--border)"/>
			<button class="btn btn-primary" onclick="postJSON('/cart/add',{productId:'<%= product.id %>', qty:document.getElementById('qty').value}).then(()=>location.href='/cart')">ğŸ›ï¸ Add to Cart</button>
			<button class="btn btn-secondary" onclick="postJSON('/watchlist/toggle',{productId:'<%= product.id %>'}).then(()=>location.reload())">ğŸ’– <%= (session.watchlist||[]).includes(product.id)?'Watching':'Watchlist' %></button>
		</div>
		
		<div style="margin-top:2rem; padding:1.5rem; background:var(--accent); border-radius:15px;">
			<h4>âœ¨ <%= store.name %> Features:</h4>
			<ul style="margin:1rem 0; padding-left:1.5rem;">
				<li>ğŸŒ¸ Handcrafted embroidery</li>
				<li>ğŸŒ¸ Premium fabrics</li>
				<li>ğŸŒ¸ Custom tailoring included</li>
				<li>ğŸŒ¸ Perfect fit guarantee</li>
				<li>ğŸŒ¸ <%= store.name %> quality assurance</li>
			</ul>
		</div>
	</div>
</div>